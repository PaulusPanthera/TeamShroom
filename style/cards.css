/* style/cards.css */
/* =========================================================
   UNIFIED 8-BIT PLAY-CARD SYSTEM (template framing)

   Includes the step you did NOT execute:
   - grid-template-rows: 34px 92px 32px auto
   - art height: 92px
   - status height: 32px
   - inset frame 6px -> 4px
   - tier badge: font-size 12px, letter-spacing 0
   - add at end:
       .tier-badge:empty{ display:none; }
       .unified-name{ line-height: 1; }

   Additional:
   - long names never overflow / never cover other cards
   - remove hitlist-only glow: normalize shadows, kill outlines
   - template proportions further: bigger status box, name lower
   - unclaimed/unowned pops negatively
   - hooks for status click switching (variant states)
   ========================================================= */

:root{
  --card-w: 230px;
  --card-h: 308px; /* slightly taller for template split (name lower + bigger status) */

  --c-void: #0b0d10;
  --c-ink: #f3e3a6;

  --card-shell: #0f5b53;
  --neg-shell: #2b2f34;

  --plate-bg: #0d0f12;
  --plate-orange: #ff6a00;

  --box-bg: #0f141a;
  --box-stroke: rgba(255,255,255,0.14);

  --win-bg: #0c0e12;
  --win-frame: #8f969d;
  --win-frame-2: #2b2f35;

  --tier-lm: #e6c86a;

  --tier-0: #7dff66;
  --tier-1: #4fe85a;

  --tier-2: #66ffd8;
  --tier-3: #2fd2b7;

  --tier-4: #8aa0a6;
  --tier-5: #6c7f86;
  --tier-6: #3f4a4f;

  --tier-inner: rgba(0,0,0,0.55);
  --card-shadow: 0 10px 0 rgba(0,0,0,0.45);

  --dead-ink: rgba(255,255,255,0.70);
}

/* ---------------------------------------------------------
   UNIFIED CARD SHELL
--------------------------------------------------------- */

.unified-card{
  width: var(--card-w);
  height: var(--card-h);

  --tier-accent: var(--tier-4);

  display: grid;

  /* step you didn't run (kept), but with template split:
     header bar, art, BIG status, name box
  */
  grid-template-rows: 34px 92px 44px 1fr;

  gap: 10px;
  padding: 12px;

  background: var(--card-shell);
  border-radius: 0;
  border: 2px solid var(--tier-accent);

  /* step you didn't run: inset 6 -> 4 */
  box-shadow:
    0 0 0 2px var(--tier-inner) inset,
    0 0 0 1px rgba(255,255,255,0.10) inset,
    0 0 0 4px rgba(0,0,0,0.45) inset,
    var(--card-shadow);

  position: relative;
  user-select: none;

  /* critical: prevents “background reach” over adjacent cards */
  overflow: hidden;
}

/* tier accents */
.unified-card[data-tier="lm"],
.unified-card[data-tier="LM"]{ --tier-accent: var(--tier-lm); }
.unified-card[data-tier="0"]{ --tier-accent: var(--tier-0); }
.unified-card[data-tier="1"]{ --tier-accent: var(--tier-1); }
.unified-card[data-tier="2"]{ --tier-accent: var(--tier-2); }
.unified-card[data-tier="3"]{ --tier-accent: var(--tier-3); }
.unified-card[data-tier="4"]{ --tier-accent: var(--tier-4); }
.unified-card[data-tier="5"]{ --tier-accent: var(--tier-5); }
.unified-card[data-tier="6"]{ --tier-accent: var(--tier-6); }

/* remove hitlist-only glow/highlight differences */
.unified-card.is-highlighted{
  outline: none !important;
  box-shadow:
    0 0 0 2px var(--tier-inner) inset,
    0 0 0 1px rgba(255,255,255,0.10) inset,
    0 0 0 4px rgba(0,0,0,0.45) inset,
    var(--card-shadow) !important;
}

/* ---------------------------------------------------------
   HEADER: TIER + ICON STRIP ONLY (NAME MOVED LOWER)
--------------------------------------------------------- */

.unified-header{
  height: 34px;

  display: flex;
  align-items: center;

  gap: 6px;
  padding: 4px 6px;

  background: var(--plate-bg);
  border: 3px solid var(--plate-orange);
  border-radius: 0;

  box-shadow: 0 0 0 1px rgba(0,0,0,0.55) inset;

  /* long-content clamp */
  overflow: hidden;
}

.tier-badge{
  min-width: 28px;
  height: 22px;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  padding: 0 6px;

  background: var(--c-void);
  color: var(--tier-accent);

  border: 2px solid var(--tier-accent);
  border-radius: 0;

  font-family: 'Press Start 2P', monospace;

  /* step you didn't run */
  font-size: 12px;
  letter-spacing: 0px;

  text-transform: uppercase;

  box-shadow: 0 0 0 1px rgba(0,0,0,0.55) inset;
}

.symbol-strip{
  margin-left: auto;

  display: inline-flex;
  align-items: center;

  gap: 6px;
  max-width: 120px;
  overflow: hidden;
}

.symbol-strip .symbol{
  width: 18px;
  height: 18px;

  image-rendering: pixelated;

  background: var(--c-void);
  border: 2px solid rgba(255,255,255,0.14);
  border-radius: 0;

  box-shadow: 0 0 0 1px rgba(0,0,0,0.55) inset;

  opacity: 0.55;
}
.symbol-strip .symbol.is-active{ opacity: 1; }

/* ---------------------------------------------------------
   ART WINDOW (smaller, template feel)
--------------------------------------------------------- */

.unified-art{
  height: 92px; /* step you didn't run */

  background: var(--win-bg);
  border: 2px solid var(--win-frame);

  box-shadow:
    0 0 0 2px var(--win-frame-2) inset,
    0 0 0 1px rgba(255,255,255,0.08) inset;

  border-radius: 0;

  display: flex;
  align-items: center;
  justify-content: center;

  overflow: hidden;
}

.unified-art img{
  width: 100%;
  height: 100%;
  object-fit: contain;
  image-rendering: pixelated;
}

/* ---------------------------------------------------------
   BIG STATUS BOX (click-switch target)
--------------------------------------------------------- */

.status-slot{
  height: 44px;

  display: flex;
  align-items: center;
  gap: 8px;

  padding: 0 8px;

  background: #0c1117;
  border: 2px solid rgba(255,255,255,0.10);
  border-radius: 0;

  box-shadow:
    0 0 0 1px rgba(0,0,0,0.70) inset,
    0 2px 0 rgba(0,0,0,0.35);

  cursor: pointer;
}

.status-slot .status-pill{
  display: inline-flex;
  align-items: center;
  gap: 6px;

  padding: 4px 6px;

  background: var(--plate-bg);
  border: 2px solid rgba(255,255,255,0.12);

  font-family: 'Press Start 2P', monospace;
  font-size: 10px;
  color: rgba(255,255,255,0.75);

  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.status-slot .status-icon{
  width: 18px;
  height: 18px;

  image-rendering: pixelated;

  opacity: 0.35;
  filter: grayscale(1);
}
.status-slot .status-icon.is-active{
  opacity: 1;
  filter: none;
}

.status-slot:focus{
  outline: 2px solid var(--plate-orange);
  outline-offset: 2px;
}

/* ---------------------------------------------------------
   NAME BOX (lower, small box like template)
--------------------------------------------------------- */

.name-box{
  background: #0f141a;
  border: 2px solid rgba(255,255,255,0.12);
  border-radius: 0;

  box-shadow: 0 0 0 1px rgba(0,0,0,0.65) inset;

  padding: 8px 8px;

  display: flex;
  align-items: center;
  justify-content: center;

  min-height: 46px;
}

.name-box .unified-name{
  display: block;

  color: var(--c-ink);
  font-size: var(--font-card-title);

  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* ---------------------------------------------------------
   NEGATIVE CARDS (UNCLAIMED / UNOWNED)
--------------------------------------------------------- */

.unified-card.is-unclaimed,
.unified-card.is-unowned{
  background: var(--neg-shell);
  border-color: rgba(255,255,255,0.18);

  box-shadow:
    0 0 0 2px rgba(0,0,0,0.65) inset,
    0 0 0 1px rgba(255,255,255,0.08) inset,
    /* step you didn't run: reduce inset here too */
    0 0 0 4px rgba(0,0,0,0.55) inset,
    var(--card-shadow);
}

.unified-card.is-unclaimed .name-box .unified-name,
.unified-card.is-unowned .name-box .unified-name{
  color: var(--dead-ink);
}

.unified-card.is-unclaimed .unified-art,
.unified-card.is-unowned .unified-art{
  position: relative;
  filter: grayscale(1);
  opacity: 0.90;
}

.unified-card.is-unclaimed .unified-art::after,
.unified-card.is-unowned .unified-art::after{
  content: "";
  position: absolute;
  inset: 0;

  background: repeating-linear-gradient(
    135deg,
    rgba(255,255,255,0.10) 0px,
    rgba(255,255,255,0.10) 6px,
    rgba(0,0,0,0.00) 6px,
    rgba(0,0,0,0.00) 12px
  );

  pointer-events: none;
}

/* ---------------------------------------------------------
   RTF-2 requested lines at end
--------------------------------------------------------- */

.tier-badge:empty{ display:none; }
.unified-name{ line-height: 1; }
