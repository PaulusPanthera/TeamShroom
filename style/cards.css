/* v2.0.0-alpha.4 */
/* style/cards.css */
/* =========================================================
   CARDS — UNIFIED CARD SYSTEM (8-bit play-card framing)
   - Smaller GIF window (template feel)
   - Tier + Name in ONE header bar
   - Icons CONNECTED to header bar (no floating overlay)
   - Unclaimed/Unowned POP negatively (very clear)
   - Main border slightly less aggressive
   ========================================================= */

:root{
  /* lock final card size; grid adapts around this */
  --card-w: 230px;
  --card-h: 298px;

  --c-void: #0b0d10;
  --c-ink: #f3e3a6;

  /* base shell */
  --card-shell: #0f5b53;

  /* window */
  --win-bg: #0c0e12;
  --win-frame: #8f969d;
  --win-frame-2: #2b2f35;

  /* header / plates */
  --plate-bg: #0d0f12;
  --plate-orange: #ff6a00;

  --box-bg: #11161d;
  --box-stroke: rgba(255,255,255,0.14);

  /* tier groups */
  --tier-lm: #e6c86a;

  --tier-0: #7dff66;
  --tier-1: #4fe85a;

  --tier-2: #66ffd8;
  --tier-3: #2fd2b7;

  --tier-4: #8aa0a6;
  --tier-5: #6c7f86;
  --tier-6: #3f4a4f;

  /* negative state */
  --neg-shell: #2b2f34;
  --neg-frame: #7d8288;
  --neg-ink: #d0d3d6;

  /* hard shadows only */
  --card-shadow: 0 10px 0 rgba(0,0,0,0.45);
}

/* ---------------------------------------------------------
   CARD SHELL (pixel bevel; no blur)
--------------------------------------------------------- */

.unified-card{
  width: var(--card-w);
  height: var(--card-h);

  --tier-accent: var(--tier-4);
  --tier-inner: rgba(0,0,0,0.55);

  display: grid;
  grid-template-rows: 34px 104px 26px auto; /* header, gif, status, info */
  gap: 10px;

  padding: 12px;

  background: var(--card-shell);
  border-radius: 0;

  /* less aggressive main border */
  border: 2px solid var(--tier-accent);

  /* pixel bevel: stepped inset + hard drop */
  box-shadow:
    0 0 0 2px var(--tier-inner) inset,
    0 0 0 1px rgba(255,255,255,0.10) inset,
    0 0 0 6px rgba(0,0,0,0.45) inset,
    var(--card-shadow);

  position: relative;
  user-select: none;
}

/* ---------------------------------------------------------
   TIER ACCENTS (grouped tiers)
--------------------------------------------------------- */

.unified-card[data-tier="lm"]{ --tier-accent: var(--tier-lm); }
.unified-card[data-tier="0"]{ --tier-accent: var(--tier-0); }
.unified-card[data-tier="1"]{ --tier-accent: var(--tier-1); }
.unified-card[data-tier="2"]{ --tier-accent: var(--tier-2); }
.unified-card[data-tier="3"]{ --tier-accent: var(--tier-3); }
.unified-card[data-tier="4"]{ --tier-accent: var(--tier-4); }
.unified-card[data-tier="5"]{ --tier-accent: var(--tier-5); }
.unified-card[data-tier="6"]{ --tier-accent: var(--tier-6); }

/* LM: prestige motif (hard corner marks + inner trim) */
.unified-card[data-tier="lm"]{
  box-shadow:
    0 0 0 1px rgba(0,0,0,0.60) inset,
    0 0 0 2px rgba(230,200,106,0.55) inset,
    0 0 0 6px rgba(0,0,0,0.45) inset,
    var(--card-shadow);
}

/* ---------------------------------------------------------
   HEADER BAR (tier + name + icons in one connected box)
--------------------------------------------------------- */

.unified-header{
  height: 34px;

  display: flex;
  align-items: center;
  gap: 8px;

  padding: 4px 6px;

  background: var(--plate-bg);
  border-radius: 0;

  /* unified header frame (connected) */
  border: 3px solid var(--plate-orange);

  box-shadow:
    0 0 0 1px rgba(0,0,0,0.55) inset;
}

.tier-badge{
  min-width: 28px;
  height: 22px;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  padding: 0 6px;

  background: var(--c-void);
  color: var(--tier-accent);

  border: 2px solid var(--tier-accent);
  border-radius: 0;

  font-family: 'Press Start 2P', monospace;
  font-size: 10px;
  letter-spacing: 1px;
  text-transform: uppercase;

  box-shadow: 0 0 0 1px rgba(0,0,0,0.55) inset;
}

.unified-name{
  flex: 1 1 auto;
  min-width: 0;

  display: block;

  color: var(--c-ink);
  font-size: var(--font-card-title);
  letter-spacing: 1px;

  /* long name solution */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* icons are part of the header bar now */
.symbol-strip{
  flex: 0 0 auto;

  display: inline-flex;
  align-items: center;
  gap: 6px;
  max-width: 78px; /* prevents header from blowing up */
  overflow: hidden;
}

.symbol-strip .symbol{
  width: 18px;
  height: 18px;

  image-rendering: pixelated;

  background: var(--c-void);
  border: 2px solid rgba(255,255,255,0.14);
  border-radius: 0;

  box-shadow: 0 0 0 1px rgba(0,0,0,0.55) inset;
}

/* LM: subtle header prestige */
.unified-card[data-tier="lm"] .unified-header{
  border-color: var(--tier-lm);
}

/* ---------------------------------------------------------
   IMAGE WINDOW (smaller; heavier frame)
--------------------------------------------------------- */

.unified-img{
  width: 100%;
  height: 104px;

  object-fit: contain;

  background: var(--win-bg);
  border-radius: 0;

  border: 4px solid var(--win-frame);

  box-shadow:
    0 0 0 2px var(--win-frame-2) inset,
    0 0 0 1px rgba(255,255,255,0.10) inset;

  image-rendering: pixelated;
}

/* ---------------------------------------------------------
   STATUS SLOT (reserved for icons; larger separation)
--------------------------------------------------------- */

.unified-status{
  height: 26px;

  background: #0f1218;
  border: 2px solid rgba(255,255,255,0.10);
  border-radius: 0;

  box-shadow: 0 0 0 1px rgba(0,0,0,0.55) inset;
}

/* ---------------------------------------------------------
   INFO TEXTBOX
--------------------------------------------------------- */

.unified-info{
  display: block;
  text-align: center;

  padding: 6px 8px;

  background: var(--box-bg);
  color: var(--c-ink);

  border: 2px solid var(--box-stroke);
  border-radius: 0;

  font-size: var(--font-card-stat);
  letter-spacing: 1px;

  box-shadow: 0 0 0 1px rgba(0,0,0,0.55) inset;
}

/* ---------------------------------------------------------
   NEGATIVE POP (Unclaimed / Unowned) — VERY OBVIOUS
   - keep tier trim faintly visible
   - push “dead card” feel like common/blank template
--------------------------------------------------------- */

.unified-card.is-unclaimed{
  background: var(--neg-shell);
  border-color: var(--neg-frame);

  box-shadow:
    0 0 0 2px rgba(0,0,0,0.70) inset,
    0 0 0 1px rgba(255,255,255,0.06) inset,
    0 0 0 6px rgba(0,0,0,0.55) inset,
    var(--card-shadow);
}

/* tier accent remains, but muted */
.unified-card.is-unclaimed .tier-badge{
  color: rgba(255,255,255,0.55);
  border-color: rgba(255,255,255,0.30);
}

/* header becomes “dead plate” */
.unified-card.is-unclaimed .unified-header{
  background: #15181d;
  border-color: rgba(255,255,255,0.18);
}

.unified-card.is-unclaimed .unified-name{
  color: var(--neg-ink);
}

/* hatch pattern in image + plates (negative pop) */
.unified-card.is-unclaimed .unified-img{
  filter: grayscale(1);
  opacity: 0.88;

  background:
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,0.06) 0px,
      rgba(255,255,255,0.06) 6px,
      rgba(0,0,0,0.00) 6px,
      rgba(0,0,0,0.00) 12px
    ),
    var(--win-bg);
}

.unified-card.is-unclaimed .unified-status,
.unified-card.is-unclaimed .unified-info{
  filter: grayscale(1);
  opacity: 0.90;
  color: var(--neg-ink);
  border-color: rgba(255,255,255,0.12);
}

/* ---------------------------------------------------------
   LOST (kept weaker than unclaimed; still negative)
--------------------------------------------------------- */

.unified-card.is-lost .unified-img,
.unified-card.is-lost .unified-info,
.unified-card.is-lost .unified-status{
  filter: grayscale(1);
  opacity: 0.70;
}

/* ---------------------------------------------------------
   HIGHLIGHTED
--------------------------------------------------------- */

.unified-card.is-highlighted{
  outline: 3px solid var(--success);
  outline-offset: 3px;
}
