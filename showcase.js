// Team Shroom Showcase Data
const teamMembers = [
  { name: "ANNlLlATION", shinies: 1 },
  { name: "ashash", shinies: 3 },
  { name: "BlistiK", shinies: 12 },
  { name: "BojanglesisHere", shinies: 13 },
  { name: "Brokencycles", shinies: 2 },
  { name: "Bulkanator", shinies: 10 },
  { name: "casethecase", shinies: 5 },
  { name: "cgrtmlk", shinies: 2 },
  { name: "CheesasaurusRex", shinies: 6 },
  { name: "ChimpExc", shinies: 2 },
  { name: "Chucklesworth", shinies: 2 },
  { name: "clairofan", shinies: 15 },
  { name: "Cometsan", shinies: 6 },
  { name: "CraazyHorse", shinies: 10 },
  { name: "DaddyMolo", shinies: 21 },
  { name: "DamoNll", shinies: 7 },
  { name: "Difoolioo", shinies: 4 },
  { name: "Draind", shinies: 16 },
  { name: "Eerierie", shinies: 13 },
  { name: "ElMannun", shinies: 3 },
  { name: "FrostyIceScream", shinies: 13 },
  { name: "Geranxx", shinies: 4 },
  { name: "Glizcor", shinies: 13 },
  { name: "Grayzxv", shinies: 2 },
  { name: "Grrzzly", shinies: 9 },
  { name: "GTGxR", shinies: 13 },
  { name: "Gumbasketball", shinies: 12 },
  { name: "Highschoolme", shinies: 2 },
  { name: "Hjordi", shinies: 16 },
  { name: "iMonchi", shinies: 1 },
  { name: "Instintooo", shinies: 1 },
  { name: "itsEasy", shinies: 6 },
  { name: "ItsKitas", shinies: 6 },
  { name: "Jaspn", shinies: 16 },
  { name: "Jayyxxi", shinies: 2 },
  { name: "Jeakama", shinies: 7 },
  { name: "Jennling", shinies: 2 },
  { name: "JGrenade", shinies: 4 },
  { name: "Johnerrr", shinies: 12 },
  { name: "JulieJewel", shinies: 13 },
  { name: "Jutskaa", shinies: 24 },
  { name: "KBritoBM", shinies: 3 },
  { name: "kitsucupid", shinies: 5 },
  { name: "KrikaDoce", shinies: 6 },
  { name: "LoDarko", shinies: 5 },
  { name: "LordGangis", shinies: 20 },
  { name: "Loundemon", shinies: 9 },
  { name: "lucaswatko", shinies: 4 },
  { name: "LunaLost", shinies: 30 },
  { name: "Macarene", shinies: 1 },
  { name: "maknaez", shinies: 39 },
  { name: "mbarren", shinies: 16 },
  { name: "MechanicalHippo", shinies: 8 },
  { name: "MELVZZY", shinies: 16 },
  { name: "MikeRunkZz", shinies: 18 },
  { name: "Minatoway", shinies: 5 },
  { name: "MitchOsu", shinies: 3 },
  { name: "mossballetje", shinies: 2 },
  { name: "MrChooch", shinies: 3 },
  { name: "MrJawster", shinies: 2 },
  { name: "MrsJawster", shinies: 6 },
  { name: "nerfviands", shinies: 1 },
  { name: "Nercylla", shinies: 6 },
  { name: "NSxPRODIGY", shinies: 3 },
  { name: "OrllandoV", shinies: 20 },
  { name: "PaulusTFT", shinies: 24 },
  { name: "peachhteaa", shinies: 1 },
  { name: "pearishx", shinies: 8 },
  { name: "pitcheronly", shinies: 2 },
  { name: "PokeBodega", shinies: 11 },
  { name: "Prttyflxcko", shinies: 4 },
  { name: "qtAlice", shinies: 21 },
  { name: "Qubuu", shinies: 9 },
  { name: "QuinJay", shinies: 1 },
  { name: "realjuckpop", shinies: 2 },
  { name: "RicRiley", shinies: 1 },
  { name: "Rintuu", shinies: 1 },
  { name: "RuthlessZ", shinies: 11 },
  { name: "SecretSlowshiny", shinies: 5 },
  { name: "Serako", shinies: 9 },
  { name: "ShakeyEy", shinies: 12 },
  { name: "ShinishilE", shinies: 1 },
  { name: "SilverGale", shinies: 4 },
  { name: "Sirbeyy", shinies: 8 },
  { name: "SmiigZ", shinies: 11 },
  { name: "SplaxxLIVE", shinies: 1 },
  { name: "Splinterbrained", shinies: 5 },
  { name: "srysu", shinies: 31 },
  { name: "SubSpacePet", shinies: 4 },
  { name: "SushiWhopperK", shinies: 6 },
  { name: "tardigreat", shinies: 2 },
  { name: "TerminusDT", shinies: 6 },
  { name: "TheJuanNonly", shinies: 11 },
  { name: "TheStahlBayBay", shinies: 2 },
  { name: "TorontoKid", shinies: 22 },
  { name: "Tortuponchy", shinies: 2 },
  { name: "TTVxSenseiNESS", shinies: 18 },
  { name: "tulicreme", shinies: 5 },
  { name: "TzKalZuk", shinies: 2 },
  { name: "UltraKingRom", shinies: 1 },
  { name: "Unesha", shinies: 1 },
  { name: "WhosWill", shinies: 6 },
  { name: "WillyPS", shinies: 36 },
  { name: "WinterIvy", shinies: 1 },
  { name: "Wisqi", shinies: 10 },
  { name: "xMileage", shinies: 2 },
  { name: "xRaiketsu", shinies: 5 },
  { name: "XxEmperiorxX", shinies: 27 },
  { name: "Yoyoyoshie", shinies: 3 },
  { name: "ZiaStitch", shinies: 8 }
];

// A list of all National Dex Pokémon names for random selection
// For a real project, you should fetch this from a pokedex API or keep a local list.
// This sample uses only 20 Pokémon for demonstration; extend as needed.
const nationalDexPokemon = [
  "Bulbasaur", "Ivysaur", "Venusaur", "Charmander", "Charmeleon", "Charizard",
  "Squirtle", "Wartortle", "Blastoise", "Caterpie", "Metapod", "Butterfree",
  "Weedle", "Kakuna", "Beedrill", "Pidgey", "Pidgeotto", "Pidgeot", "Rattata", "Raticate"
  // ... add all Pokémon names here for full randomness
];

// Helper function to get a shiny gif url from Pokemondb for a Pokémon name
function getPokemonGif(name) {
  // Handle special cases
  if (name === "Mr. Mime") return "https://img.pokemondb.net/sprites/black-white/anim/shiny/mr-mime.gif";
  if (name === "Mime Jr.") return "https://img.pokemondb.net/sprites/black-white/anim/shiny/mime-jr.gif";
  if (name === "Nidoran♀") return "https://img.pokemondb.net/sprites/black-white/anim/shiny/nidoran-f.gif";
  if (name === "Nidoran♂") return "https://img.pokemondb.net/sprites/black-white/anim/shiny/nidoran-m.gif";

  // Generic formatting
  let urlName = name
    .toLowerCase()
    .replace(/\u2640/g, "f")   // ♀ -> f
    .replace(/\u2642/g, "m")   // ♂ -> m
    .replace(/[\s.'’]/g, "");

  return `https://img.pokemondb.net/sprites/black-white/anim/shiny/${urlName}.gif`;
}

// For demo: get n random Pokémon names (with no repeats)
function getRandomShinies(n) {
  const arr = [];
  const used = new Set();
  while (arr.length < n) {
    const idx = Math.floor(Math.random() * nationalDexPokemon.length);
    if (!used.has(idx)) {
      arr.push(nationalDexPokemon[idx]);
      used.add(idx);
    }
    // If you want to allow duplicates, remove the check for used.has(idx)
  }
  return arr;
}

// Render function for the showcase page
function renderShowcase(members) {
  const content = document.getElementById('page-content');
  content.innerHTML = `
    <h1>Shiny Showcase</h1>
    <div class="showcase-gallery"></div>
  `;
  const gallery = content.querySelector(".showcase-gallery");
  gallery.style.display = "grid";
  gallery.style.gridTemplateColumns = "repeat(auto-fit, minmax(220px, 1fr))";
  gallery.style.gap = "1.5rem";

  members.forEach(member => {
    // For each member, randomly assign shinies (for real use, replace this with the member's actual shinies)
    const shinyMons = getRandomShinies(Math.min(member.shinies, nationalDexPokemon.length));
    const shinyImgs = shinyMons.map(pokemon =>
      `<img src="${getPokemonGif(pokemon)}" alt="${pokemon}" title="${pokemon}" class="showcase-shiny-img" style="width:48px;height:48px;margin:0 3px;image-rendering:pixelated;">`
    ).join("");
    const entry = document.createElement("div");
    entry.className = "showcase-entry";
    entry.style.background = "#23243b";
    entry.style.border = "2px solid #00fff7";
    entry.style.borderRadius = "12px";
    entry.style.boxShadow = "0 2px 10px #00fff766";
    entry.style.padding = "1.2em 0.7em 1em 0.7em";
    entry.style.display = "flex";
    entry.style.flexDirection = "column";
    entry.style.alignItems = "center";
    entry.style.justifyContent = "flex-start";
    entry.style.minHeight = "160px";
    entry.style.position = "relative";

    entry.innerHTML = `
      <div class="showcase-name" style="font-size:1.1em;font-weight:bold;color:#00fff7;text-shadow:0 0 7px #00fff7aa;">${member.name}</div>
      <div class="showcase-shiny-count" style="color:#e0e0e0;font-size:0.95em;margin-bottom:0.6em;">Shinies: ${member.shinies}</div>
      <div class="showcase-shinies" style="display:flex;flex-wrap:wrap;justify-content:center;align-items:center;">
        ${shinyImgs}
      </div>
    `;
    gallery.appendChild(entry);
  });
}
